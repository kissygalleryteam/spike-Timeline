<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>spike-Timeline</title>
    <link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://docs.kissyui.com/1.4/source/guideline/templates/assets/com-prettify.css">
    <link rel="stylesheet" href="http://docs.kissyui.com/1.4/source/guideline/templates/assets/com.css">
    <script src="http://cdn.staticfile.org/jquery/2.1.1-rc2/jquery.min.js"></script>
    <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script src="http://cdn.staticfile.org/prettify/r298/prettify.min.js"></script>
    <script src="http://g.tbcdn.cn/kissy/k/1.4.8/seed-min.js" data-config="{combine:true}"></script>
  </head>
  <body data-spy="scroll" data-target=".bs-docs-sidebar">
    <div id="header"><a href="http://docs.kissyui.com/" class="logo">kissy</a>
      <nav><a href="http://docs.kissyui.com/1.4/docs/html/coms.html">优秀组件推荐</a></nav>
    </div>
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3 bs-docs-sidebar">
          <ul data-spy="affix" data-offset-top="0" class="nav nav-list bs-docs-sidenav"></ul>
        </div>
        <div class="span9 bs-docs-content">
          <h1 data-id="undefined" class="title">spike-Timeline</h1>
          <p class="author-wrapper"><span>组件有问题？旺旺联系作者：</span><a href="https://github.com/shmnhdouble2013" target="_blank" data-name="水木年华double" class="author"><img src="https://avatars.githubusercontent.com/u/4113020?v=2&amp;s=60" alt="水木年华double"></a><span class="author-name">水木年华double</span>
          </p>
          <div class="common-link"><a href="../demo/index.html" target="_blank" class="demo">示例</a><a href="https://github.com/kissygalleryteam/spike-Timeline" target="_blank" class="source">源码</a></div>
          <p class="com-info"><span class="info-label">View</span><span data-com="spike-Timeline" class="J_View">870</span></p>
          <p class="com-info"><span class="info-label">所属分类</span><a href="http://kpm.taobao.net/list/时间">时间</a><span class="info-label tag-label">组件标签</span><a href="http://kpm.taobao.net/list/tag?tag=时间轴">时间轴</a>
          </p>
          <p class="com-info"><span class="info-label">kissy版本</span><span>1.4.X</span>
          </p><h2 id="-">综述</h2>
<p>SpikeTimeline 她是一个 时间轴与活动展现管理组件, 根据实时服务器时间改变时间段 状态(过去、现在、将来)，并展示时间点所对应的 展示区块(支持数据懒加载);</p>
<ul>
<li>版本：2.0.0</li>
<li>更新日期：20140107</li>
<li>作者：水木年华double <code>&lt;huangjia2015@gmail.com&gt;</code></li>
<li>demo：<a href="http://kg.kissyui.com/spike-Timeline/2.0.0/demo/index.php">http://kg.kissyui.com/spike-Timeline/2.0.0/demo/index.php</a></li>
</ul>
<h2 id="-">支持特性如下：</h2>
<ol>
<li>时间轴生成方式 方便灵活, 支持 固定间隔时间计算生成时间轴 和 无规律 自定义 时间数组 生成;  </li>
<li>灵活多样的 时间更新机制 --- 本地时间、时间差时间、服务器间隔性同步更新机制,精度小于1秒; </li>
<li>支持 字符串时间容错；</li>
<li>高度灵活的时间参数配置，支持 毫秒数 和 日期字符串方式(详解配置表说明)，自定义时间数组 支持 时分字符串配置，灵活支持比如：(&quot;00&quot;, &quot;02&quot;, &quot;03:11&quot;, &quot;0:2&quot; ... 杂乱 无序的 字符串时间 配置);</li>
<li>支持 跨天/月/年 天内 无限重复; </li>
<li>支持自定义模板等；</li>
<li>升级优化懒加载机制，采用textarea方式 懒加载Dom元素;</li>
<li>其他灵活配置 比如：各个 时间段 3种不同的状态下可配置是否可点击查看，以及点击样式等;</li>
<li>时间标签click 事件 和 当前时间段 自动切换 触发事件，让你能够灵活自如的控制 当前时间相对应的 活动渲染和展现 形式；</li>
</ol>
<h2 id="-">初始化组件 -- 快速配置</h2>
<pre><code>S.use(&#39;kg/spike-Timeline/2.0.0/index&#39;, function (S, SpikeTimeline) {

    var spike-Timeline = new SpikeTimeline({

        // 起止时间 -- 字符串格式，比如： &#39;2013-11-26 15:32:08&#39;
        startTime: &#39;&#39;,  
        endTime: &#39;&#39;,

        // 固定间隔时间(如：固定时间) -- 支持 时分字符串时间、毫秒数 配置
        timeLength: &#39;1&#39;,

        // 服务器初始化时间 默认 毫秒数、支持 标准时间字符串如：&#39;2013-11-20 17:30:32&#39;
        serviceTime: null,

        url: &#39;&#39;
    });
});
</code></pre><h2 id="-">必读说明！！！</h2>
<ol>
<li><p>数据懒加载采用textarea方式，其钩子为：
<code>&lt;textarea class=&quot;data-lazyload-cls&quot; style=&quot;width:0; height:0; display:none;&quot;&gt; 需要懒加载的内容... &lt;/textarea&gt;</code> </p>
<p>  ps：图片懒加载 想当前时间下图片也不展示，请参加 <a href="http://kg.kissyui.com/datalazyload/1.0.1/guide/index.html">kissy datalazyload</a>组件配合使用  </p>
</li>
<li><p>关于时间段 与 活动区块的关联说明： 时间段 区块 和 活动容器内的相对区块内容一一对应，即 时间轴第一个时间段 对应 活动容器里 第一个 活动区块；</p>
</li>
<li>关于时间轴组件 样式/dom结构 说明：本例内置模板展现时间轴样式，若不满足需求，你可以自定义你的模板dom结构字符串传入，并配置相应的钩子和样式即可， 即：自定义样式结构，调用组件 传入相应的钩子，进行时间更新、样式、活动切换控制等逻辑应用；</li>
</ol>
<h2 id="api-">API说明 --- 时间 相关配置</h2>
<pre><code>// 起止时间具体配置 -- 字符串格式，比如： &#39;2013-11-26 15:32:08&#39;  
startTime: &#39;&#39;,  
endTime: &#39;&#39;,

// 服务器初始化时间 默认 毫秒数、支持 标准时间字符串如：&#39;2013-11-20 17:30:32&#39;
serviceTime: null,

// 服务器 时间同步 url接口
url: &#39;&#39;,

// 异步 时间同步 是否是jsonp  --默认
isJsonp: true,

// 异步更新时间配置，最低间隔 需要 &gt;= 1分钟 -- 默认1小时
ajaxUpMinutes: 60 
</code></pre><h2 id="api-">API说明 --- 各时间段文本 配置</h2>
<pre><code>// 过去时间段 文本 设置（ps：使用内置模板时 添加文本 无效）
pastStateText: &#39;&#39;,

// 当前时间段 文本 设置
currtStateText: &#39;开抢&#39;,

// 未来时间段 文本 设置
futureStateText: &#39;即将开抢&#39;
</code></pre><h2 id="api-">API说明 --- 常用配置项</h2>
<pre><code class="lang-javascript">// 默认配置
var defCfg = {

    // 无效时间 是否 隐藏 时间轴 和 活动区块
    isInvalidTimeHide: true,

    // 是否自定义 不规则 时间段 -- 若此处开启 则需要 配置 下列 customTime 时间点数组
    isCustomTimePeriod: false,

    // 自定义时间点 数组, 规范的 时分字符串 ---  支持 时间大小顺序 随机排列, 时分字符串形式 支持 比如 &quot;00&quot;, &quot;02&quot;, &quot;03:11&quot;, &quot;0:2&quot;等
    customTime: [], 

    // 固定间隔时间 -- 支持 时分字符串时间、毫秒数 配置
    timeLength: null, 

    // 浏览其他区块 停留 时间，然后自动返回 当前活动区块 默认 --  分钟 
    viewResidenceTime: 2,   

    // 未来时间段 是否 可查看
    isFutureView: true, 

    // 过去时间段 是否 可点击 查看
    isPastView: true,

    // 是否开启 自动ui更新
    isAutoUpdateUi: true,

    // 是否执行懒加载 textarea中的 js
    execScript: true,

    // 懒加载 textarea 钩子
    dataLazyloadCls: &#39;data-lazyload-cls&#39;        
};
</code></pre>
<h1 id="-dom-"><strong> 注意！ 若你需要 调整组件 DOM/样式 配置， 接着往下看：</strong></h1>
<h2 id="api-dom-">API说明 --- 组件 DOM/样式 配置</h2>
<pre><code>// 时间轴 timeTemplate 模板
timeTemplate: &#39;&lt;a class=&quot;j_timeBlock&quot;&gt;&lt;span class=&quot;hours&quot;&gt;&lt;/span&gt;&lt;span class=&quot;state&quot;&gt;&lt;/span&gt;&lt;/a&gt;&#39;,

// 过去时间段 样式
doneCls: &#39;doneCls&#39;,

// 当前时间段 样式
currCls: &#39;currCls&#39;,

// 未来时间段 样式
futrueCls: &#39;futrueCls&#39;,

// 过去时间段 点击查看 样式
clickPastTimeBlockCls: &#39;clickPastTimeBlock&#39;,

// 未来时间段 点击查看 样式
clickFutureTimeBlock: &#39;clickFutureTimeBlock&#39;
</code></pre><h2 id="api-">API说明 --- 组件钩子 配置</h2>
<pre><code>// 时间模块 css钩子
timeBlockCls: &#39;.j_timeBlock&#39;,

// 时分秒 时间 容器 css钩子
hoursContainerCls: &#39;.hours&#39;,

// 时间 状态文本 容器 css钩子
stateTextCls: &#39;.state&#39;,

// 活动展现内容区块 容器ID
merchContainer: &#39;#J_secondContent&#39;,

// 活动展现内容区块 钩子
merchBlockCls: &#39;.j_ul&#39;  
</code></pre><h2 id="api-">API说明 --- 支持事件</h2>
<pre><code>/**  
* &#39;currSpikeChange&#39;
* 当前时间段 时间触发
* @event currSpikeChange  
* @param {event} el对象
* @param {Array} el.elTarget 时间标签dom元素 
* @param {Array} el.timeStr  当前时间标签-字符串  比如：12:00 
*/

/**  
* 时间标签click 事件触发
* @event spikeTimeClick  
* @param {event} el对象
* @param {Array} el.elTarget 时间标签dom元素
* @param {Array} el.timeStr  当前时间标签-字符串 比如：10:00   
*/
</code></pre>
          <div style="display:none;"><script type="text/javascript" src="http://tajs.qq.com/stats?sId=36378479" charset="UTF-8"></script></div>
          <script src="http://docs.kissyui.com/1.4/source/guideline/templates/assets/com.js"></script>
        </div>
      </div>
    </div>
  </body>
</html>